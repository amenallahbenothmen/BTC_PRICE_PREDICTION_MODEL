schema: '2.0'
stages:
  data_ingestion:
    cmd: python src/LSTM_BTC_Prediction/pipeline/stage_01_data_ingestion.py
    deps:
    - path: config/config.yaml
      hash: md5
      md5: 5b7353991c71f94b65e4366fdc3d2193
      size: 925
    - path: src/LSTM_BTC_Prediction/pipeline/stage_01_data_ingestion.py
      hash: md5
      md5: 8ba21ae6e0f3b407810e62248bcffdea
      size: 1120
    params:
      params.yaml:
        CURRENT_DATE: '2024-05-10'
    outs:
    - path: artifacts/data_ingestion
      hash: md5
      md5: c336719c7a62d4ebded24a80c2fcd2fb.dir
      size: 1549530
      nfiles: 1
  data_preprocessing:
    cmd: python src/LSTM_BTC_Prediction/pipeline/stage_02_data_preprocessing.py
    deps:
    - path: artifacts/data_ingestion
      hash: md5
      md5: c336719c7a62d4ebded24a80c2fcd2fb.dir
      size: 1549530
      nfiles: 1
    - path: config/config.yaml
      hash: md5
      md5: 5b7353991c71f94b65e4366fdc3d2193
      size: 925
    - path: src/LSTM_BTC_Prediction/pipeline/stage_02_data_preprocessing.py
      hash: md5
      md5: 113345afaad07dd29374ff8c9203d83f
      size: 1185
    params:
      params.yaml:
        FORECAST_HORIZON: 1
        LOOK_BACK: 120
    outs:
    - path: artifacts/data_final/testX.npy
      hash: md5
      md5: 1e511816a0e378443ecb2e338b9f78c9
      size: 7263488
    - path: artifacts/data_final/testY.npy
      hash: md5
      md5: 480daec2df151f11a72a650cf12e338f
      size: 4784
    - path: artifacts/data_final/trainX.npy
      hash: md5
      md5: d6d4d020fa74a7261f4c513697a62ad2
      size: 24772928
    - path: artifacts/data_final/trainY.npy
      hash: md5
      md5: 6ef0f7711022b7347e49fbca4b53f835
      size: 16008
    - path: artifacts/data_final/valX.npy
      hash: md5
      md5: e7e0c3a7e867e7224fbe34ee2e393d5b
      size: 7263488
    - path: artifacts/data_final/valY.npy
      hash: md5
      md5: 3d9dfd06d8e1cb0fd7c66c409c69a542
      size: 4784
    - path: artifacts/data_scaled/test_scaled.csv
      hash: md5
      md5: e99d7c6ef5d0f340bef83d17e04dc149
      size: 176480
    - path: artifacts/data_scaled/train_scaled.csv
      hash: md5
      md5: 925199c0a27d11702a65e09ccbed5d6b
      size: 545415
    - path: artifacts/data_scaled/val_scaled.csv
      hash: md5
      md5: 60c077b039d2bf9e49493c16d2c2eb90
      size: 178832
    - path: artifacts/data_split/test.csv
      hash: md5
      md5: 896b40e66d43a023361e33c2215ad813
      size: 138788
    - path: artifacts/data_split/train.csv
      hash: md5
      md5: b4b95f949f96d5b99dfd453d093952fc
      size: 425727
    - path: artifacts/data_split/val.csv
      hash: md5
      md5: 9570e90c3daea75715dee8f63a156acc
      size: 138598
  prepare_base_model:
    cmd: python src/LSTM_BTC_Prediction/pipeline/stage_03_prepare_base_model.py
    deps:
    - path: artifacts/data_final/trainX.npy
      hash: md5
      md5: d6d4d020fa74a7261f4c513697a62ad2
      size: 24772928
    - path: config/config.yaml
      hash: md5
      md5: 5b7353991c71f94b65e4366fdc3d2193
      size: 925
    - path: src/LSTM_BTC_Prediction/pipeline/stage_03_prepare_base_model.py
      hash: md5
      md5: 99daef6f314a448eef844ba1de159d10
      size: 980
    params:
      params.yaml:
        DROPOUT_RATE_1: 0.1
        DROPOUT_RATE_2: 0.1
        L2_REG_1: 0.001
        L2_REG_2: 0.001
        LSTM_UNITS_1: 156
        LSTM_UNITS_2: 124
    outs:
    - path: artifacts/prepare_base_model/full_model.h5
      hash: md5
      md5: abda21aada4428deb8ee32d914d33209
      size: 2620416
  model_training:
    cmd: python src/LSTM_BTC_Prediction/pipeline/stage_04_model_training.py
    deps:
    - path: artifacts/data_final/testX.npy
      hash: md5
      md5: 1e511816a0e378443ecb2e338b9f78c9
      size: 7263488
    - path: artifacts/data_final/testY.npy
      hash: md5
      md5: 480daec2df151f11a72a650cf12e338f
      size: 4784
    - path: artifacts/data_final/trainX.npy
      hash: md5
      md5: d6d4d020fa74a7261f4c513697a62ad2
      size: 24772928
    - path: artifacts/data_final/trainY.npy
      hash: md5
      md5: 6ef0f7711022b7347e49fbca4b53f835
      size: 16008
    - path: artifacts/data_final/valX.npy
      hash: md5
      md5: e7e0c3a7e867e7224fbe34ee2e393d5b
      size: 7263488
    - path: artifacts/data_final/valY.npy
      hash: md5
      md5: 3d9dfd06d8e1cb0fd7c66c409c69a542
      size: 4784
    - path: artifacts/data_split/test.csv
      hash: md5
      md5: 896b40e66d43a023361e33c2215ad813
      size: 138788
    - path: artifacts/data_split/train.csv
      hash: md5
      md5: b4b95f949f96d5b99dfd453d093952fc
      size: 425727
    - path: artifacts/data_split/val.csv
      hash: md5
      md5: 9570e90c3daea75715dee8f63a156acc
      size: 138598
    - path: artifacts/prepare_base_model/full_model.h5
      hash: md5
      md5: abda21aada4428deb8ee32d914d33209
      size: 2620416
    - path: config/config.yaml
      hash: md5
      md5: 5b7353991c71f94b65e4366fdc3d2193
      size: 925
    - path: src/LSTM_BTC_Prediction/pipeline/stage_04_model_training.py
      hash: md5
      md5: 47fa0a006af522adba603547458f6d31
      size: 913
    params:
      params.yaml:
        BATCH_SIZE: 30
        EPOCHS: 1
        LEARNING_RATE: 0.001
        PATIENCE: 10
    outs:
    - path: artifacts/training/model.keras
      hash: md5
      md5: b0484008ff2f8770468a0c7a934ab970
      size: 7802767
    - path: scores.json
      hash: md5
      md5: c6d06edd867fff21991d35bc168f1c32
      size: 114
  updating_date:
    cmd: python src/LSTM_BTC_Prediction/pipeline/stage_00_date_updating.py
    deps:
    - path: src/LSTM_BTC_Prediction/pipeline/stage_00_date_updating.py
      hash: md5
      md5: e9071a749acec9990f5c82e0c800ffb5
      size: 977
    params:
      params.yaml:
        CURRENT_DATE: '2024-05-10'
